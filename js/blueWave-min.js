"use strict";function BlueWave(){this.animationSettings={xSize:50,ySize:50,speed:2,steps:[.1,.1,.3,.5,.5,1],color:"#305EFF",speedIn:2,speedOut:2.8},this.size={scaleRatio:window.devicePixelRatio||1,w:0,h:0},this.calculatedSettings={currentDistance:0,lastDraw:0},this.addCanvas(),this.eventListeners(),this.resize(),this.calculateSettings();var t=this;document.getElementById("startImage").addEventListener("click",function(){t.runIn()})}BlueWave.prototype.addCanvas=function(){var t=document.createElement("canvas");t.id="blueWave",t.style.zIndex="99999",t.style.pointerEvents="none",t.style.display="block",t.style.position="fixed",t.style.top=0,t.style.left=0,document.body.appendChild(t),this.canvas=t,this.ctx=this.canvas.getContext("2d")},BlueWave.prototype.calculateSettings=function(){this.calculatedSettings.coloumns=Math.ceil(this.size.w/this.animationSettings.xSize),this.calculatedSettings.rows=Math.ceil(this.size.h/this.animationSettings.ySize);var t=this.calculatedSettings.rows;this.calculatedSettings.rowArray=Array.apply(null,{length:t}).map(Number.call,Number)},BlueWave.prototype.runIn=function(){var t=this.calculatedSettings.coloumns+14;t=t.toString();var e=this;TweenLite.to(this.calculatedSettings,this.animationSettings.speedIn,{currentDistance:"+="+t,onUpdate:this.updateHandlerRunIn,onUpdateParams:[e,!0],onComplete:this.completeHandlerRunIn,onCompleteParams:[e],ease:Power0.easeNone})},BlueWave.prototype.updateHandlerRunIn=function(t,e){var i=Math.round(t.calculatedSettings.currentDistance);i>t.calculatedSettings.lastDraw&&(t.calculatedSettings.lastDraw=i,t.spawnPixels(i,e))},BlueWave.prototype.completeHandlerRunIn=function(t){document.getElementById("startImage").style.display="none",t.runOut()},BlueWave.prototype.runOut=function(){this.calculatedSettings.currentDistance=-2,this.calculatedSettings.lastDraw=-2;var t=this.calculatedSettings.coloumns+46;t=t.toString();var e=this;TweenLite.to(this.calculatedSettings,this.animationSettings.speedOut,{currentDistance:"+="+t,onUpdate:this.updateHandlerRunIn,onUpdateParams:[e,!1],ease:Power0.easeNone})},BlueWave.prototype.spawnPixels=function(t,e){this.ctx.fillStyle=this.animationSettings.color;for(var i=0;i<this.animationSettings.steps.length;i++){this.calculatedSettings.rowArray=this.shuffleArray(this.calculatedSettings.rowArray);for(var s=Math.ceil(this.animationSettings.steps[i]*this.calculatedSettings.rows),n=this.calculatedSettings.rowArray.slice(0,s),a=0;a<n.length;a++){var l=(t-i)*this.animationSettings.xSize,o=n[a]*this.animationSettings.ySize;e?this.ctx.fillRect(l,o,this.animationSettings.xSize,this.animationSettings.ySize):this.ctx.clearRect(l,o,this.animationSettings.xSize,this.animationSettings.ySize)}}var c=(t-(this.animationSettings.steps.length-1))*this.animationSettings.xSize;e?this.ctx.fillRect(0,0,c,this.size.h):this.ctx.clearRect(0,0,c,this.size.h)},BlueWave.prototype.shuffleArray=function(t){for(var e=t.length,i,s;0!==e;)s=Math.floor(Math.random()*e),e-=1,i=t[e],t[e]=t[s],t[s]=i;return t},BlueWave.prototype.eventListeners=function(){this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize)},BlueWave.prototype.resize=function(){this.size.w=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.size.h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.canvas.width=this.size.w*this.size.scaleRatio,this.canvas.height=this.size.h*this.size.scaleRatio,this.canvas.style.width=this.size.w+"px",this.canvas.style.height=this.size.h+"px",this.ctx.scale(this.size.scaleRatio,this.size.scaleRatio)};